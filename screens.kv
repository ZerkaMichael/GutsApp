WindowManager:
    HomeWindow:
    ScoreCounterWindow:
    MatchHistoryWindow:
    TournamentWindow:
    AdminWindow:

<HomeWindow>:
    name: "home"
    BoxLayout:
        orientation: 'vertical'
        padding: [20, 20]
        spacing: 20

        Label:
            text: "Guts App"
            font_size: 50
            halign: 'center'
            valign: 'middle'
            size_hint_y: .1

        GridLayout:
            cols: 2
            spacing: 10
            size_hint_y: .8

            Button:
                text: "Goto Admin Tools"
                font_size: 32
                background_color: (0.3, 0.3, 0.3, 1)
                on_release:
                    app.root.current = "admin"
                    root.manager.transition.direction = "up"

            Button:
                text: "Goto Tournament"
                font_size: 32
                background_color: (0.3, 0.3, 0.3, 1)
                on_release:
                    app.root.current = "tournament"
                    root.manager.transition.direction = "down"

            Button:
                text: "Goto Game Scores"
                font_size: 32
                background_color: (0.3, 0.3, 0.3, 1)
                on_release:
                    app.root.current = "matchhistory"
                    root.manager.transition.direction = "right"

            Button:
                text: "Goto Score Counter"
                font_size: 32
                background_color: (0.3, 0.3, 0.3, 1)
                on_release:
                    app.root.current = "scorecounter"
                    root.manager.transition.direction = "left"

<ScoreCounterWindow>:
    name: "scorecounter"
    BoxLayout:
        orientation: 'vertical'
        padding: [20, 20]
        spacing: 20

        Label:
            text: "Score Counter"
            font_size: 40
            halign: 'center'
            valign: 'middle'
            size_hint_y: .1

        GridLayout:
            cols: 2
            spacing: 10
            size_hint_y: .8

            TextInput:
                id: team1_name
                font_size: 25
                multiline: False
                text: 'Team 1 Name'
                halign: 'center'
                valign: 'middle'
                size_hint_y: .2

            TextInput:
                id: team2_name
                font_size: 25
                multiline: False
                text: 'Team 2 Name'
                halign: 'center'
                valign: 'middle'
                size_hint_y: .2

            TextInput:
                id: score1_input
                font_size: 32
                multiline: False
                text: '0'
                halign: 'center'
                valign: 'middle'
                size_hint_y: .2

            TextInput:
                id: score2_input
                font_size: 32
                multiline: False
                text: '0'
                halign: 'center'
                valign: 'middle'
                size_hint_y: .2

            Button:
                text: "+"
                font_size: 32
                background_color: (0.3, 0.3, 0.3, 1)
                size_hint_y: .2
                on_press: root.addScore(1)

            Button:
                text: "+"
                font_size: 32
                background_color: (0.3, 0.3, 0.3, 1)
                size_hint_y: .2
                on_press: root.addScore(2)

            Button:
                text: "-"
                font_size: 32
                background_color: (0.3, 0.3, 0.3, 1)
                size_hint_y: .2
                on_press: root.subScore(1)

            Button:
                text: "-"
                font_size: 32
                background_color: (0.3, 0.3, 0.3, 1)
                size_hint_y: .2
                on_press: root.subScore(2)

        BoxLayout:
            orientation: 'horizontal'
            spacing: 20
            size_hint_y: .1

            Button:
                text: "Back to Home"
                font_size: 25
                background_color: (0.3, 0.3, 0.3, 1)
                on_release:
                    app.root.current = "home"
                    root.manager.transition.direction = "right"

            Button:
                text: "Save Match"
                font_size: 25
                background_color: (0.3, 0.3, 0.3, 1)
                on_release:
                    root.submit()



<MatchHistoryWindow>:
    name: "matchhistory"
    on_enter: root.updateGames()
    GridLayout:
        cols: 1
        size: root.width, root.height

        Label:
            text: ''
            font_size: 1
            size_hint: (.1, .1)

        Label:
            text: "Guts App"
            font_size: 50
            size_hint: (.05, .05)

        Label:
            text: ''
            font_size: 20
            size_hint: (.5, .5)

        GridLayout:
            cols: 4
            size: root.width, root.height

            Label:
                id: match1
                text: root.history(1)
                font_size: 20
                size_hint: (1, 1)
                halign: 'center'
                valign: 'middle'
                canvas.before:
                    Color:
                        rgba: 0.2, 0.2, 0.2, 1  # Dark background
                    Rectangle:
                        size: self.size
                        pos: self.pos
                    Color:
                        rgba: 0, 0, 0, 1
                    Line:
                        width: 1.1
                        rectangle: self.x, self.y, self.width, self.height

            Label:
                id: match2
                text: root.history(2)
                font_size: 20
                size_hint: (1, 1)
                halign: 'center'
                valign: 'middle'
                canvas.before:
                    Color:
                        rgba: 0.2, 0.2, 0.2, 1  # Dark background
                    Rectangle:
                        size: self.size
                        pos: self.pos
                    Color:
                        rgba: 0, 0, 0, 1
                    Line:
                        width: 1.1
                        rectangle: self.x, self.y, self.width, self.height

            Label:
                id: match3
                text: root.history(3)
                font_size: 20
                size_hint: (1, 1)
                halign: 'center'
                valign: 'middle'
                canvas.before:
                    Color:
                        rgba: 0.2, 0.2, 0.2, 1  # Dark background
                    Rectangle:
                        size: self.size
                        pos: self.pos
                    Color:
                        rgba: 0, 0, 0, 1
                    Line:
                        width: 1.1
                        rectangle: self.x, self.y, self.width, self.height

            Label:
                id: match4
                text: root.history(4)
                font_size: 20
                size_hint: (1, 1)
                halign: 'center'
                valign: 'middle'
                canvas.before:
                    Color:
                        rgba: 0.2, 0.2, 0.2, 1  # Dark background
                    Rectangle:
                        size: self.size
                        pos: self.pos
                    Color:
                        rgba: 0, 0, 0, 1
                    Line:
                        width: 1.1
                        rectangle: self.x, self.y, self.width, self.height

            Label:
                id: match5
                text: root.history(5)
                font_size: 20
                size_hint: (1, 1)
                halign: 'center'
                valign: 'middle'
                canvas.before:
                    Color:
                        rgba: 0.2, 0.2, 0.2, 1  # Dark background
                    Rectangle:
                        size: self.size
                        pos: self.pos
                    Color:
                        rgba: 0, 0, 0, 1
                    Line:
                        width: 1.1
                        rectangle: self.x, self.y, self.width, self.height

            Label:
                id: match6
                text: root.history(6)
                font_size: 20
                size_hint: (1, 1)
                halign: 'center'
                valign: 'middle'
                canvas.before:
                    Color:
                        rgba: 0.2, 0.2, 0.2, 1  # Dark background
                    Rectangle:
                        size: self.size
                        pos: self.pos
                    Color:
                        rgba: 0, 0, 0, 1
                    Line:
                        width: 1.1
                        rectangle: self.x, self.y, self.width, self.height

            Label:
                id: match7
                text: root.history(7)
                font_size: 20
                size_hint: (1, 1)
                halign: 'center'
                valign: 'middle'
                canvas.before:
                    Color:
                        rgba: 0.2, 0.2, 0.2, 1  # Dark background
                    Rectangle:
                        size: self.size
                        pos: self.pos
                    Color:
                        rgba: 0, 0, 0, 1
                    Line:
                        width: 1.1
                        rectangle: self.x, self.y, self.width, self.height

            Label:
                id: match8
                text: root.history(8)
                font_size: 20
                size_hint: (1, 1)
                halign: 'center'
                valign: 'middle'
                canvas.before:
                    Color:
                        rgba: 0.2, 0.2, 0.2, 1  # Dark background
                    Rectangle:
                        size: self.size
                        pos: self.pos
                    Color:
                        rgba: 0, 0, 0, 1
                    Line:
                        width: 1.1
                        rectangle: self.x, self.y, self.width, self.height

        Label:
            text: ''
            font_size: 20
            size_hint: (1, 1)

        Button:
            text: "Goto home"
            font_size: 32
            size_hint: (.25, .25)
            background_color: 0.3, 0.3, 0.3, 1  # Darker button
            on_release:
                app.root.current = "home"
                root.manager.transition.direction = "left"

        Button:
            text: "Goto Score Counter"
            font_size: 32
            size_hint: (.25, .25)
            background_color: 0.3, 0.3, 0.3, 1  # Darker button
            on_release:
                app.root.current = "scorecounter"
                root.manager.transition.direction = "right"




<TournamentWindow>:
	name: "tournament"
	on_enter:
		root.getMatches()
		root.getFinishedMatches()
	BoxLayout:
        orientation: 'vertical'
        spacing: 10
        padding: [3, 3, 3, 3]

        Label:
            text: "Guts App"
            font_size: 50

        BoxLayout:
            size_hint_y: .1

        Button:
            text: "Next Round"
            font_size: 32
            background_color: (0.3, 0.3, 0.3, 1)
            size_hint_y: .2
            on_press:
                root.nextRound()
                app.root.current = "home"
                root.manager.transition.direction = "up"

        BoxLayout:
            orientation: 'horizontal'
            spacing: 20
            size_hint_y: .2

            TextInput:
                id: score1_input
                font_size: 32
                multiline: False
                text: 'Team 1 Score'
                halign: 'center'
                valign: 'middle'
                size_hint_x: .5

            TextInput:
                id: score2_input
                font_size: 32
                multiline: False
                text: 'Team 2 Score'
                halign: 'center'
                valign: 'middle'
                size_hint_x: .5

        BoxLayout:
            orientation: 'horizontal'
            spacing: 20
            size_hint_y: .5

            BoxLayout:
                orientation: 'vertical'
                Spinner:
                    id: "current_matches"
                    text: "Current Matches"
                    values: root.teamList
                    on_text: root.matchSelection(self.text, 1)
                    background_color: [0.2, 0.2, 0.2, 1]  # Dark background
                    color: [1, 1, 1, 1]  # White text

                Spinner:
                    id: "loser_current_matches"
                    text: "Current Loser Matches"
                    values: root.loserTeamList
                    on_text: root.matchSelection(self.text, 2)
                    background_color: [0.2, 0.2, 0.2, 1]  # Dark background
                    color: [1, 1, 1, 1]  # White text
            BoxLayout:
                orientation: 'vertical'
                Spinner:
                    id: "finished_matches"
                    text: "Finished Matches"
                    values: root.finishedTeamList
                    background_color: [0.2, 0.2, 0.2, 1]  # Dark background
                    color: [1, 1, 1, 1]  # White text

                Spinner:
                    id: "loser_finished_matches"
                    text: "Finished Loser Matches"
                    values: root.loserFinishedTeamList
                    background_color: [0.2, 0.2, 0.2, 1]  # Dark background
                    color: [1, 1, 1, 1]  # White text

        BoxLayout:
            size_hint_y: .1

        BoxLayout:
            orientation: 'horizontal'
            spacing: 20
            size_hint_y: .2

            Button:
                text: "Goto home"
                font_size: 25
                background_color: (0.3, 0.3, 0.3, 1)
                on_release:
                    app.root.current = "home"
                    root.manager.transition.direction = "left"

            Button:
                text: "Goto Score Counter"
                font_size: 25
                background_color: (0.3, 0.3, 0.3, 1)
                on_release:
                    app.root.current = "scorecounter"
                    root.manager.transition.direction = "right"


<AdminWindow>:
    name: "admin"
    BoxLayout:
        orientation: 'vertical'
        spacing: 10
        padding: 10
        Label:
            text: "Guts App"
            font_size: 50
            color: [1,1,1,1]  # White text
            size_hint: (1, .1)

        GridLayout:
            cols:2
            size_hint: (1, .15)
            spacing: 10
            TextInput:
                id: team_input
                font_size: 32
                multiline: False
                text: "Enter Team Name"
                halign: 'center'
                background_color: [0.2, 0.2, 0.2, 1]  # Dark background
                foreground_color: [1,1,1,1]  # White text
            Button:
                text: "Submit Team"
                font_size: 20
                background_color: [0.3, 0.3, 0.3, 1]  # Darker button
                color: [1,1,1,1]  # White text
                on_press: root.submitTeams()

        Spinner:
            id: remove_team
            text: "Remove Team"
            values: root.getTeams()
            on_release: root.updateTeamValues()
            on_text: root.removeTeam(self.text)
            size_hint: (1, .1)
            background_color: [0.2, 0.2, 0.2, 1]  # Dark background
            color: [1, 1, 1, 1]  # White text

        TextInput:
            id: roundrobin_rounds
            font_size: 25
            multiline: False
            text:'Round Robin Rounds'
            halign: 'center'
            size_hint: (1, .1)
            background_color: [0.2, 0.2, 0.2, 1]  # Dark background
            foreground_color: [1,1,1,1]  # White text

        Button:
            text: "Start Tournament"
            font_size: 32
            size_hint: (1, .1)
            background_color: [0.3, 0.3, 0.3, 1]  # Darker button
            color: [1,1,1,1]  # White text
            on_press: root.startTournament()
            on_release:
                app.root.current = "home"
                root.manager.transition.direction = "down"

        BoxLayout:
            size_hint: (1, .05)
        Button:
            text: "Goto home"
            font_size: 32
            size_hint: (1, .1)
            background_color: [0.3, 0.3, 0.3, 1]  # Darker button
            color: [1,1,1,1]  # White text
            on_release:
                app.root.current = "home"
                root.manager.transition.direction = "left"


